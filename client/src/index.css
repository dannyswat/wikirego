@import "../node_modules/@excalidraw/excalidraw/dist/prod/index.css";
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  .ck-content {
    @apply text-slate-700 dark:text-slate-300;
    @apply max-w-full;
    @apply overflow-x-auto;
    word-wrap: break-word;
    overflow-wrap: break-word;
    text-wrap: break-word;
  }

  /* Ensure all content within ck-content respects container width */
  .ck-content * {
    @apply max-w-full;
    box-sizing: border-box;
  }

  /* Brand blue: #92A7B4 (logo dark svg) â€” darker shade for light mode contrast */
  .ck-content h2 {
    @apply text-2xl;
    @apply font-semibold;
    color: rgb(22,136,212);
    @apply border-b border-slate-200 dark:border-slate-700;
    letter-spacing: -0.01em;
  }

  .dark .ck-content h2 {
    color: rgb(22,136,212);
  }

  .ck-content h3 {
    @apply text-xl;
    @apply font-medium;
    color: #3a7a94;
    letter-spacing: -0.01em;
  }

  .dark .ck-content h3 {
    color: #60c4e0;
  }

  .ck-content h4 {
    @apply text-sm;
    @apply font-medium;
    color: #4d8fa8;
    @apply tracking-widest;
  }

  .dark .ck-content h4 {
    color: #4ab2cc;
  }

  .ck-content p {
    @apply mb-3 leading-relaxed;
  }

  .ck-content blockquote {
    @apply italic;
    @apply text-slate-500 dark:text-slate-400;
    border-left: 3px solid #92A7B4;
    @apply bg-slate-50 dark:bg-slate-800/40;
    @apply ps-4 py-2 pe-3;
    @apply my-4 rounded-r-md;
  }

  .ck-content a {
    color: #2d6880;
    @apply underline underline-offset-2;
    @apply transition-colors;
    text-decoration-color: #92A7B4;
  }

  .dark .ck-content a {
    color: #92A7B4;
  }

  .ck-content a:hover {
    color: #1a4f63;
    text-decoration-color: #4d8fa8;
  }

  .dark .ck-content a:hover {
    color: #c0d4dd;
    text-decoration-color: #c0d4dd;
  }

  .ck-content ul {
    @apply list-disc;
    @apply ps-6;
    @apply mb-3;
  }

  .ck-content ol {
    @apply list-decimal;
    @apply ps-6;
    @apply mb-3;
  }

  .ck-content li {
    @apply mb-1;
  }

  .ck-content img {
    @apply mx-auto;
    @apply my-4;
    @apply rounded-xl;
    @apply max-w-full;
    @apply h-auto;
    @apply shadow-sm;
  }

  .ck-content figure.table {
    @apply w-full;
    @apply sm:w-3/4;
    @apply md:w-1/2;
    @apply my-4;
    @apply mx-auto;
  }

  .ck-content table {
    @apply w-full;
    @apply sm:w-3/4;
    @apply md:w-1/2;
    @apply my-4;
    @apply mx-auto;
    @apply border-collapse;
  }

  .ck-content th {
    background-color: #eef4f7;
    color: #2d6880;
    @apply text-center font-medium;
    @apply border border-slate-200 dark:border-slate-700;
    @apply p-2;
  }

  .dark .ck-content th {
    background-color: rgba(146,167,180,0.12);
    color: #92A7B4;
  }

  .ck-content td {
    @apply border border-slate-200 dark:border-slate-700;
    @apply text-center;
    @apply p-2;
  }

  .ck-content tr:nth-child(even) td {
    @apply bg-slate-50 dark:bg-slate-800/30;
  }

  .ck-content code {
    @apply bg-gray-200 dark:bg-gray-700;
    @apply text-sm px-1.5 py-0.5 rounded;
    @apply font-mono;
  }

  .dark .ck-content code {
    color: #92A7B4;
  }

  .ck-content pre {
    @apply bg-gray-200 dark:bg-gray-700;
    @apply text-gray-800 dark:text-gray-200;
    @apply p-4 rounded-lg;
    @apply overflow-x-auto;
    @apply text-sm font-mono;
    @apply shadow-inner;
  }

  .ck-content pre code {
    @apply bg-transparent;
    color: inherit;
    @apply p-0;
  }

  .ck-content hr {
    @apply my-6;
    @apply border-t border-slate-200 dark:border-slate-700;
  }

  .ck-content .ck-content__page-break {
    @apply my-6;
    @apply border-t border-dashed border-slate-300 dark:border-slate-600;
  }

  .ck-content .ck-content__page-break::after {
    @apply block;
    @apply text-center;
    @apply text-xs;
    @apply text-slate-400 dark:text-slate-500;
    content: "Page Break";
  }

  .ck-content .ck-content__page-break::before {
    @apply block;
    @apply text-center;
    @apply text-xs;
    @apply text-slate-400 dark:text-slate-500;
    content: "Page Break";
  }

.ck-content .image.image-style-align-right,
.ck-content .image.image-style-align-left {
  @apply mt-0;
}
}

@media (max-width: 640px) {
  .ck-content figure.table {
    @apply w-full;
  }

  .ck-content table {
    @apply w-full;
  }

  .ck-content .image.image-style-align-right,
    .ck-content .image.image-style-align-left {
  @apply mt-2;
  @apply float-none;
  @apply mx-auto;
  @apply w-full;
  }

  .ck-content .image.image_resized {
  max-width: fit-content;
}

}

/* Additional responsive rules for ck-content */
.ck-content {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

.ck-content * {
  max-width: 100%;
  box-sizing: border-box;
}

.ck-content table {
  width: 100% !important;
  table-layout: fixed;
}

.ck-content figure.table {
  width: 100% !important;
  overflow-x: auto;
}

.ck-content pre, .ck-content a {
  white-space: pre-wrap;
  word-break: break-all;
}

.ck-content iframe,
.ck-content video,
.ck-content embed,
.ck-content object {
  max-width: 100%;
  height: auto;
}

.ck.ck-editor__main>.ck-editor__editable {
  @apply dark:bg-gray-800;
}